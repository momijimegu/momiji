require=function c(s,a,u){function r(i,t){if(!a[i]){if(!s[i]){var e="function"==typeof require&&require;if(!t&&e)return e(i,!0);if(l)return l(i,!0);var o=new Error("Cannot find module '"+i+"'");throw o.code="MODULE_NOT_FOUND",o}var n=a[i]={exports:{}};s[i][0].call(n.exports,function(t){var e=s[i][1][t];return r(e||t)},n,n.exports,c,s,a,u)}return a[i].exports}for(var l="function"==typeof require&&require,t=0;t<u.length;t++)r(u[t]);return r}({Atttacker:[function(t,e,i){"use strict";cc._RF.push(e,"2e510mFbfZKV4v8j5ZJiQL1","Atttacker"),cc.Class({extends:cc.Component,properties:{damage:0,target:{default:null,type:t("mito")}},attack:function(){this.target.hitDamage(this.damage)}}),cc._RF.pop()},{mito:"mito"}],AudioLoad:[function(t,e,i){"use strict";cc._RF.push(e,"6425aRB3BdNIJXtdqViXIup","AudioLoad"),cc.Class({extends:cc.Component,properties:{audio:{default:null,url:cc.AudioClip},audioid:-1.1},start:function(){this.audioid=-1.1},isFirst:function(){return-1.1==this.audioid},PlayMusic:function(){this.audioid=cc.audioEngine.playMusic(this.audio,!0)},PlayEffect:function(){this.audioid=cc.audioEngine.playEffect(this.audio,!1)},StopMusic:function(){this.isFirst()||cc.audioEngine.StopMusic(this.audioid)},StopEffect:function(){this.isFirst()||cc.audioEngine.StopEffect(this.audioid)}}),cc._RF.pop()},{}],ButtonEvent:[function(t,e,i){"use strict";cc._RF.push(e,"9deefm20ldNcYaxOLnJClw3","ButtonEvent"),cc.Class({extends:cc.Component,properties:{audiose:{default:null,url:cc.AudioClip}},start:function(){},loadTitle:function(){cc.audioEngine.playEffect(this.audiose,!1),cc.director.loadScene("Game")},loadMain:function(){cc.audioEngine.playEffect(this.audiose,!1),cc.director.loadScene("Main")}}),cc._RF.pop()},{}],ButtonTime:[function(t,e,i){"use strict";cc._RF.push(e,"e9b55SSrhlGlI9axzjvgRYw","ButtonTime"),cc.Class({extends:cc.Component,ctor:function(){this.isActive=!0},properties:{second:0,label:{default:null,type:t("Countdown")}},onClick:function(){this.isActive=!1,this.label.second=this.second,this.label.startCount(),this.scheduleOnce(function(){this.isActive=!0}.bind(this),this.second)}}),cc._RF.pop()},{Countdown:"Countdown"}],ClickAudio:[function(t,e,i){"use strict";cc._RF.push(e,"5013eSwk/xLt4hUNL1oWFx9","ClickAudio"),cc.Class({extends:cc.Component,properties:{isEnableAudio:!0,audio:{default:null,type:t("AudioLoad")}},start:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(t){this.isEnableAudio&&this.audio.PlayEffect()},this)}}),cc._RF.pop()},{AudioLoad:"AudioLoad"}],Countdown:[function(t,e,i){"use strict";cc._RF.push(e,"063de3HyqtHbrFYfDHMmBOa","Countdown"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},second:0},startCount:function(){this.label.node.opacity=255,this.label.string=""+this.second;var t=function(){this.second--,this.label.string=""+this.second,this.second<=0&&(this.label.node.opacity=0)}.bind(this);this.schedule(t,1,this.second)}}),cc._RF.pop()},{}],CreditButton:[function(t,e,i){"use strict";cc._RF.push(e,"8a710n4TudOWIJ3qNFUMlA2","CreditButton"),cc.Class({extends:cc.Component,properties:{audiose:{default:null,url:cc.AudioClip},creditNode:{default:null,type:cc.Node},buttons:[cc.Button]},start:function(){},onButtonClick:function(){cc.audioEngine.playEffect(this.audiose,!1),this.buttons.forEach(function(t){t.interactable=!1}),this.creditNode.opacity=255}}),cc._RF.pop()},{}],GameOver:[function(t,e,i){"use strict";cc._RF.push(e,"c62cc5Mtp9HMYzH6z9l7Fgx","GameOver"),cc.Class({extends:cc.Component,properties:{momijiLabel:{default:null,type:cc.Label},subLabel:{default:null,type:cc.Label},reslutLabel:{default:null,type:cc.Label},timerLabel:{default:null,type:cc.Label},momijinum:0},ctor:function(){this.time=0},start:function(){this.momijinum=cc.sys.localStorage.getItem("momiji");var t=cc.sys.localStorage.getItem("clione");this.momijiLabel.string=this.momijinum+"枚",this.reslutLabel.string=100<=this.momijinum?"ゲームクリア":"ゲームオーバー";var e="";e=1==t?"おめでとう！　クリオネはどんな味？":100<=this.momijinum?"おめでとう！　奴らから守りきった？":this.momijinum<=0?"もみじをクリックして、ミトちゃんを守ろう！":this.momijinum<70?"ムカデとクッキーをうまく使って100枚を目指そう！":"あと少しでクリア。シチューはおいしー♪",this.subLabel.string=e,this.time=parseFloat(cc.sys.localStorage.getItem("time"))/1e3,this.time=this.time.toFixed(3),this.timerLabel.string=this.time+"秒"},tweetReslut:function(){window.open(encodeURI("https://twitter.com/intent/tweet?url="+location.href+"&text="+this.momijinum+"枚のもみじを"+this.time+"秒で倒した！&hashtags=もみじぎらい"))}}),cc._RF.pop()},{}],HelthDisplay:[function(t,e,i){"use strict";cc._RF.push(e,"145a9G3Z6VOzpJ2HyFBYI0q","HelthDisplay"),cc.Class({extends:cc.Component,ctor:function(){this.kurobas=[]},properties:{kurobaPrefab:{default:null,type:t("makePrefab")}},drawKuroba:function(t){this.kurobas.forEach(function(t){t.destroy()}),this.kurobas=[];for(var e=0;e<t;e++){var i=this.kurobaPrefab.make();i.setAnchorPoint(0,.5),i.setPosition(e*(i.width*i.scaleX)+50,0),this.kurobas.push(i)}}}),cc._RF.pop()},{makePrefab:"makePrefab"}],LevelManager:[function(t,e,i){"use strict";cc._RF.push(e,"6bea4M1yLxGhJ2Gb+cU8qH+","LevelManager"),cc.Class({extends:cc.Component,properties:{momijiCount:{default:null,type:t("momijiCount")}},start:function(){}}),cc._RF.pop()},{momijiCount:"momijiCount"}],LoadScene:[function(t,e,i){"use strict";cc._RF.push(e,"3b4f6sRQJlFrKc6NtifmDX4","LoadScene"),cc.Class({extends:cc.Component,properties:{nextScene:""},loadScene:function(){cc.director.loadScene(this.nextScene)}}),cc._RF.pop()},{}],Mover:[function(t,e,i){"use strict";cc._RF.push(e,"bf8cbuhcwBNmZmiotGqlBUG","Mover"),cc.Class({extends:cc.Component,properties:{targetPos:cc.Vec2,second:0},Move:function(){this.node.runAction(cc.moveTo(this.second,this.targetPos.x,this.targetPos.y))}}),cc._RF.pop()},{}],PlayBGM:[function(t,e,i){"use strict";cc._RF.push(e,"9b2a2INnABJ9ojTHcntlgIC","PlayBGM"),cc.Class({extends:cc.Component,properties:{audio:{default:null,type:t("AudioLoad")}},start:function(){this.audio.StopMusic(),this.audio.PlayMusic()}}),cc._RF.pop()},{AudioLoad:"AudioLoad"}],RandomSpawner:[function(t,e,i){"use strict";cc._RF.push(e,"f347fYbWOpFfavj18a05rzH","RandomSpawner"),cc.Class({extends:cc.Component,properties:{makePrefab:{default:null,type:t("momijiCreate")}},randomSpawn:function(){var t=this.makePrefab.make(),e=this.calcRand(this.node.x,this.node.width),i=this.calcRand(this.node.y,this.node.height);t.setPosition(e,i)},calcRand:function(t,e){return t+e*cc.random0To1()}}),cc._RF.pop()},{momijiCreate:"momijiCreate"}],SpawnerManager:[function(t,e,i){"use strict";cc._RF.push(e,"96c386xYg9AXJulICqqTx26","SpawnerManager"),e.exports=cc.Class({extends:cc.Component,properties:{minInterval:0,maxInterval:0,momijinode:{default:null,type:cc.Node},momijiCount:{default:null,type:t("momijiCount")},clione:{default:null,type:t("Mover")},back:{default:null,type:cc.Node}},ctor:function(){this.spawner=[],this.isSpawnActive=!1,this.prev=0,this.isClione=!1},start:function(){this.spawner=[],this.node.children.forEach(function(t){this.spawner.push(t.getComponent("RandomSpawner"))}.bind(this)),this.spawn(),this.startSchedule()},spawn:function(){var t=0;cc.random0To1()<.5&&(t=1),this.spawner[t].randomSpawn()},startSchedule:function(){this.isSpawnActive&&this.stopSchedule(),this.spawner.forEach(function(t){this.schedule(function(){this.isSpawnActive&&t.randomSpawn()},this.calcRandom(this.minInterval,this.maxInterval))}.bind(this)),this.isSpawnActive=!0},stopSchedule:function(){this.isSpawnActive&&(this.spawner.forEach(function(t){this.unschedule(t.randomSpawn)}.bind(this)),this.isSpawnActive=!1)},calcRandom:function(t,e){return t+cc.random0To1()*e},getDiff:function(){var t=.005*Math.floor(this.momijiCount.momijiCount/2.5)+.04*Math.floor(this.momijiCount.momijiCount/5);return.45<t?.95:t+.5},update:function(t){100<=this.momijiCount.momijiCount&&(this.stopSchedule(),0!=this.momijinode.children.length||this.isClione||(this.clione.Move(),this.back.opacity=255,this.isClione=!0)),this.isSpawnActive&&(this.momijinode.children.length+1==this.prev?cc.random0To1()<this.getDiff()&&this.spawn():0==this.momijinode.children.length&&this.spawn()),this.prev=this.momijinode.children.length}}),cc._RF.pop()},{Mover:"Mover",momijiCount:"momijiCount"}],clione:[function(t,e,i){"use strict";cc._RF.push(e,"c8166H9ZHtO/pwx6GRP2sp7","clione"),cc.Class({extends:cc.Component,properties:{mito:{default:null,type:cc.Node},mover:{default:null,type:t("Mover")}},onLoad:function(){this.mover.targetPos=this.mito.position},start:function(){}}),cc._RF.pop()},{Mover:"Mover"}],credit:[function(t,e,i){"use strict";cc._RF.push(e,"a5972h5+tZP54Xxzo5fruuT","credit"),cc.Class({extends:cc.Component,properties:{backNode:{default:null,type:cc.Node},subNode:{default:null,type:cc.Node},buttons:[cc.Button]},start:function(){this.backNode.on(cc.Node.EventType.MOUSE_DOWN,function(t){this.buttons.forEach(function(t){t.interactable=!0}),this.node.opacity=0,this.subNode.opacity=0},this)}}),cc._RF.pop()},{}],hpCheck:[function(t,e,i){"use strict";cc._RF.push(e,"e37adBhkWVAk6BgrvdJFGho","hpCheck"),cc.Class({extends:cc.Component,properties:{target:{default:null,type:cc.Button},timer:{default:null,type:t("ButtonTime")},mito:{default:null,type:t("mito")}},start:function(){},update:function(t){this.target.interactable=this.mito.helth!=this.mito.maxHelth&&this.timer.isActive,this.node.color=this.target.interactable?cc.Color.WHITE:cc.Color.GRAY}}),cc._RF.pop()},{ButtonTime:"ButtonTime",mito:"mito"}],makePrefab:[function(t,e,i){"use strict";cc._RF.push(e,"086588m2xtNo6NkkQj8M1C6","makePrefab"),cc.Class({extends:cc.Component,properties:{spawnPrefab:{default:null,type:cc.Prefab},parentNode:{default:null,type:cc.Node}},make:function(){var t=cc.instantiate(this.spawnPrefab);return this.parentNode.addChild(t),t}}),cc._RF.pop()},{}],mito:[function(t,e,i){"use strict";cc._RF.push(e,"e5831YiCEBATbdECDi1Uowi","mito"),cc.Class({extends:cc.Component,properties:{audioDamage:{default:null,type:t("AudioLoad")},audioRegene:{default:null,type:t("AudioLoad")},colorDamage:new cc.Color,colorRegene:new cc.Color,momijiCount:{default:null,type:t("momijiCount")},helthDisplay:{default:null,type:t("HelthDisplay")},nextScene:{default:null,type:t("LoadScene")},maxHelth:5},ctor:function(){this.helth=0},hitDamage:function(t){0!=t&&(this.hpChange(t),this.spriteEffect(0<t))},spriteEffect:function(t){var e=void 0,i=void 0;t?(e=this.colorDamage,i=this.audioDamage):(e=this.colorRegene,i=this.audioRegene),this.node.color=e,i&&i.PlayEffect(),this.scheduleOnce(function(){this.node.color=cc.Color.WHITE}.bind(this),.1)},hpChange:function(t){this.helth-=t,this.helth<=0?(this.momijiCount.saveMomijiCount(),cc.sys.localStorage.setItem("clione",0),this.nextScene.loadScene()):this.helth>this.maxHelth&&(this.helth=this.maxHelth),this.helthDisplay.drawKuroba(this.helth)},start:function(){this.helth=this.maxHelth,this.helthDisplay.drawKuroba(this.helth)},onEnable:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(t,e){switch(t.tag){case 2:this.hitDamage(1);break;case 3:this.momijiCount.saveMomijiCount(),cc.sys.localStorage.setItem("clione",1),this.nextScene.loadScene()}}}),cc._RF.pop()},{AudioLoad:"AudioLoad",HelthDisplay:"HelthDisplay",LoadScene:"LoadScene",momijiCount:"momijiCount"}],momijiCount:[function(t,e,i){"use strict";cc._RF.push(e,"5a64cJ7W+dEZYxmbASzSjxc","momijiCount"),cc.Class({extends:cc.Component,properties:{momijiLabel:{default:null,type:cc.Label},timerLabel:{default:null,type:t("timer")},momijiCount:0},start:function(){},updateLabel:function(){this.momijiCount++,this.momijiLabel.string=this.momijiCount+""},getMomijiCount:function(){return this.momijiCount},saveMomijiCount:function(){cc.sys.localStorage.setItem("momiji",this.momijiCount),cc.sys.localStorage.setItem("time",this.timerLabel.getTime())}}),cc._RF.pop()},{timer:"timer"}],momijiCreate:[function(t,e,i){"use strict";cc._RF.push(e,"ccfa5s6UNJH1ZHHMXn4AMhE","momijiCreate"),cc.Class({extends:cc.Component,properties:{momijiPrefab:{default:null,type:t("makePrefab")},targetNode:{default:null,type:cc.Node},momijiCount:{default:null,type:t("momijiCount")},min:0,max:0},make:function(){var t=this.momijiPrefab.make(),e=t.getComponent("Mover");return e.targetPos=this.targetNode.position,e.second=this.min+cc.random0To1()*this.max,t.getComponent("momiji").momijiCount=this.momijiCount,t}}),cc._RF.pop()},{makePrefab:"makePrefab",momijiCount:"momijiCount"}],momiji:[function(t,e,i){"use strict";cc._RF.push(e,"95af4BwiClDsaGt9eZSfHzl","momiji"),cc.Class({extends:cc.Component,ctor:function(){this.momijiCount=null},properties:{audioSuccess:{default:null,type:t("AudioLoad")},mover:{default:null,type:t("Mover")}},start:function(){this.node.on(cc.Node.EventType.MOUSE_DOWN,function(t){this.kill()},this),this.mover.second=3*cc.random0To1()+2,this.mover.Move()},onEnable:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(t,e){switch(t.tag){case 10:this.attack();break;case 11:this.kill()}},kill:function(){this.audioSuccess.PlayEffect(),this.momijiCount.updateLabel(),this.node.destroy()},attack:function(){this.node.destroy()}}),cc._RF.pop()},{AudioLoad:"AudioLoad",Mover:"Mover"}],mukade:[function(t,e,i){"use strict";cc._RF.push(e,"f7749y/GehBz6GnJYx633kH","mukade"),cc.Class({extends:cc.Component,ctor:function(){this.startPos=new cc.Vec2},properties:{mover:{default:null,type:t("Mover")},audioMukade:{default:null,type:t("AudioLoad")},but:{default:null,type:cc.Button}},start:function(){this.startPos=this.node.position},moveAction:function(){this.audioMukade.PlayEffect(),this.node.position=this.startPos,this.mover.Move(),this.but.node.color=cc.Color.GRAY,this.but.interactable=!1,this.schedule(function(){this.but.node.color=cc.Color.WHITE,this.but.interactable=!0}.bind(this),this.mover.second,0,0)}}),cc._RF.pop()},{AudioLoad:"AudioLoad",Mover:"Mover"}],timer:[function(t,e,i){"use strict";cc._RF.push(e,"02f55/oHplLuak6LV0oZPjb","timer"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label}},ctor:function(){this.startTime=new Date},start:function(){this.startTime=new Date},update:function(t){this.label.string=Math.floor(this.getTime()/1e3)+"秒"},getTime:function(){return new Date-this.startTime}}),cc._RF.pop()},{}]},{},["Atttacker","AudioLoad","ButtonEvent","ButtonTime","ClickAudio","Countdown","CreditButton","GameOver","HelthDisplay","LevelManager","LoadScene","Mover","PlayBGM","RandomSpawner","SpawnerManager","clione","credit","hpCheck","makePrefab","mito","momiji","momijiCount","momijiCreate","mukade","timer"]);